---
title: "l_ Methods Showcase"
author: 
  - "Ludvig Renbo Olsen"
date: "`r Sys.Date()`"
abstract: |
  The l_ methods are a new set of methods for groupdata2 where you pass a list of values.  
  &nbsp;  
  &nbsp;  
  Contact author at r-pkgs@ludvigolsen.dk
  &nbsp; 
  &nbsp;  
  
  -----
output: 
  rmarkdown::html_vignette:
    css: 
    - !expr system.file("rmarkdown/templates/html_vignette/resources/vignette.css", package = "rmarkdown")
    - styles.css
    fig_width: 6
    fig_height: 4
    toc: yes
    number_sections: no
  rmarkdown::pdf_document:
    highlight: tango
    number_sections: yes
    toc: yes
    toc_depth: 4
vignette: >
  %\VignetteIndexEntry{l_ Methods Showcase}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r include=FALSE}

knitr::opts_chunk$set(collapse = T, comment = "#>", fig.align='center')
options(tibble.print_min = 4L, tibble.print_max = 4L)

```

```{r}
library(dplyr)
library(knitr)

```

```{r}
# 
# # Create dataframe
# df <- data.frame("participant" = factor(rep(c('1','2', '3', '4', '5', '6'), 3)),
#                 "age" = rep(c(20,23,27,21,32,31), 3),
#                 "diagnosis" = rep(c('a', 'b', 'a', 'b', 'b', 'a'), 3),
#                 "score" = c(10,24,15,35,24,14,24,40,30,50,54,25,45,67,40,78,62,30))
# 
# # Order by participant
# df <- df[order(df$participant),] 
# 
# # Remove index
# rownames(df) <- NULL
# 
# # Add session info
# df$session <- as.integer(rep(c('1','2', '3'), 6))
# 
# # Show the dataframe
# kable(df, align = 'c')

```


## Method: l_sizes 
Pass group sizes. Sum of group sizes have to equal length of column (nrows).  
There might be added a switch, so you can choose to just remove exceeding elements - e.g. you have a vector with 30 and want two groups with sizes 10,10. Now the exceeding 10 elements could just be cut.  
Obviously much of what I just said hasn't been implemented yet. Right now it's just a function for making a grouping factor from a list of group sizes.  

```{r}
# df$.groups <- groupdata2::l_sizes(c(6,2,2,2,6))
# 
# kable(df)

```


## Method: l_starts
Pass values where you want a new group to start. Allows you to skip values.

```{r}
# Not skipping

# df$.groups <- groupdata2::l_starts(df$age, list(20,27,21,31))
# 
# kable(df)

```

Now let's try to skip a value. So that instead of starting a group by the first appearance of a value (coming after the previous group start), it starts by the nth appearance of the value. This is given as c(value, skip_to). E.g.:


```{r}
# Skipping

# df$.groups <- groupdata2::l_starts(df$age, list(20, c(27,3), c(21,2), 31))
# 
# kable(df)

```







